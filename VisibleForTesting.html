<!DOCTYPE html>
<html><head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="http://projectlombok.org/logi/reset.css" />
	<link rel="stylesheet" type="text/css" href="features.css" />
	<link rel="shortcut icon" href="http://projectlombok.org/favicon.ico" type="image/x-icon" />
	<meta name="description" content="Spice up your java" />
	<title>lombok-pg: @VisibleForTesting</title>
</head><body><div id="pepper">
	<div class="minimumHeight"></div>
	<div class="meat">
		<div class="header"><a href="http://projectlombok.org/index.html">Project Lombok</a><br /><a href="https://github.com/peichhorn/lombok-pg">lombok-pg</a></div>
		<h1>@VisibleForTesting</h1>
		<div class="byline">No need to compromise visibility due to testability!</div>
		<div class="overview">
			<h3>Overview</h3>
			<p>
This annotation allows you to widen the access scope of a method just enough for the purposes of testing. This method will be accessible from classes that contain the test "Test". However, the compiler will not allow the method to be access from any other portions of code.
</p>
			</p>
		</div>
		<div style="clear: left;"></div>
		<div class="overview">
			<h3>Small print</h3><div class="smallprint">
<p>
<pre>
/**
 * Declaring a class with a method only visible to tests
 */
package main.myClasses;
public class MyClass {
   @VisibleForTesting
   public int add(int a, int b) {
      return a+b;
   }
}

/**
 * This class is not a test, hence it cannot access the add() method, even if it's declared public
 */
package main.myOtherClasses;
public class MyOtherClass
{
   public MyOtherClasses() {
      // ERROR: method add is not visible
      new MyClass().add(1, 1);
   }
}

/**
 * This class can access the add() method, because its named XXXTest.
 */
package main.tests.myOtherClasses;
public class MyOtherClassTest
{
   public MyOtherClassesTest() {
      // OK, it is visible
      new MyClass().add(1, 1); 
   }
}
</pre>

				</p>
			</div>
		</div>
		<div class="footer">
			<a href="index.html">Back to features</a> | <a href="Condition.html">Previous feature (@Signal/@Await/@SignalBeforeAwaitAfter)</a> | <a href="Entrypoint.html">Next feature (Application/JVMAgent)</a><br />
			<a href="http://projectlombok.org/credits.html" class="creditsLink">credits</a> | <span class="copyright">Copyright &copy; 2010-2011 Philipp Eichhorn, licensed under the <a href="http://www.opensource.org/licenses/mit-license.php">MIT license</a>.</span>
		</div>
		<div style="clear: both;"></div>
	</div>
</div>
<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
	try {
		var pageTracker = _gat._getTracker("UA-9884254-1");
		pageTracker._trackPageview();
	} catch(err) {}
</script>
</body></html>
